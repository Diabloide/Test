<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
    <style>
        /* === –í–°–ï –°–¢–ò–õ–ò –û–°–¢–ê–Æ–¢–°–Ø –ó–î–ï–°–¨ === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #3f51b5, #2196F3);
            color: white;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .container {
            background: white;
            color: #333;
            border-radius: 20px;
            padding: 40px 30px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }
        
        .icon {
            font-size: 70px;
            margin-bottom: 20px;
        }
        
        h1 {
            color: #3f51b5;
            margin-bottom: 10px;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 18px;
            margin: 20px 0;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: #45a049;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .hidden {
            display: none;
        }
        
        .instructions {
            text-align: left;
            background: #f5f5f5;
            padding: 20px;
            border-radius: 12px;
            margin-top: 25px;
            border-left: 4px solid #007AFF;
        }
        
        .step {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .step:before {
            content: "‚û°Ô∏è";
            position: absolute;
            left: 0;
        }
        
        .device-warning {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #ffeaa7;
        }
        
        .footer {
            margin-top: 30px;
            color: #666;
            font-size: 14px;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
    </style>
</head>
<body>
    <!-- === –í–°–Ø –†–ê–ó–ú–ï–¢–ö–ê –û–°–¢–ê–ï–¢–°–Ø –ó–î–ï–°–¨ === -->
    <div class="container">
        <div class="icon">üì±</div>
        <h1>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¢–µ—Å—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h1>
        <p>–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Ç–µ–ª–µ—Ñ–æ–Ω–∞</p>
        
        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è Android -->
        <button id="install-btn" class="btn hidden">
            ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        </button>
        
        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞ -->
        <div id="not-supported" class="device-warning">
            <p><strong>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ Android</strong></p>
        </div>
        
        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö -->
        <div class="instructions">
            <h3>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ:</h3>
            
            <div class="step">–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</div>
            
            <div id="android-steps" class="hidden">
                <div class="step">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" –≤—ã—à–µ</div>
                <div class="step">–ò–ª–∏ –≤ –º–µ–Ω—é (3 —Ç–æ—á–∫–∏) ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω"</div>
            </div>
            
            <div id="ios-steps" class="hidden">
                <div class="step">–í Safari –Ω–∞–∂–º–∏—Ç–µ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" (üì§)</div>
                <div class="step">–í—ã–±–µ—Ä–∏—Ç–µ "–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª"</div>
                <div class="step">–ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å"</div>
            </div>
            
            <div class="step">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ</div>
        </div>
        
        <a href="index.html" style="
            display: inline-block;
            margin-top: 20px;
            color: #3f51b5;
            font-size: 16px;
            text-decoration: none;
        ">
            ‚ñ∂Ô∏è –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
        </a>
        
        <div class="footer">
            –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Android 5.0+ –∏ iOS 12.2+
        </div>
    </div>

    <!-- === –í–ï–°–¨ JavaScript –û–°–¢–ê–ï–¢–°–Ø –ó–î–ï–°–¨ === -->
    <script>
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
        const isAndroid = /Android/i.test(navigator.userAgent);
        const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        const installBtn = document.getElementById('install-btn');
        const notSupportedMsg = document.getElementById('not-supported');
        const androidSteps = document.getElementById('android-steps');
        const iosSteps = document.getElementById('ios-steps');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
        if (isAndroid) {
            androidSteps.style.display = 'block';
            notSupportedMsg.style.display = 'none';
        } else if (isIOS) {
            iosSteps.style.display = 'block';
            notSupportedMsg.style.display = 'none';
        }
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA
        let deferredPrompt;
        
        // 1. –õ–æ–≤–∏–º —Å–æ–±—ã—Ç–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Android Chrome)
        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('beforeinstallprompt —Å—Ä–∞–±–æ—Ç–∞–ª');
            e.preventDefault();
            deferredPrompt = e;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏
            installBtn.style.display = 'block';
            notSupportedMsg.style.display = 'none';
        });
        
        // 2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ
        installBtn.addEventListener('click', async () => {
            if (!deferredPrompt) {
                alert('–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤—ã—à–µ.');
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
            deferredPrompt.prompt();
            
            // –ñ–¥–µ–º –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const { outcome } = await deferredPrompt.userChoice;
            
            if (outcome === 'accepted') {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ');
                installBtn.textContent = '‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!';
                installBtn.disabled = true;
            } else {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏');
            }
            
            deferredPrompt = null;
        });
        
        // 3. –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∫–∞–∫ PWA
        if (window.matchMedia('(display-mode: standalone)').matches) {
            installBtn.style.display = 'none';
            notSupportedMsg.innerHTML = '<p><strong>‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!</strong></p>';
        }
        
        // 4. –ï—Å–ª–∏ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑–∞–ª–∞—Å—å (—Å—Ç–∞—Ä—ã–π –±—Ä–∞—É–∑–µ—Ä)
        setTimeout(() => {
            if (installBtn.style.display === 'none' && isAndroid) {
                notSupportedMsg.innerHTML = 
                    '<p><strong>–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É.</strong><br>' +
                    '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ (3 —Ç–æ—á–∫–∏) ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω"</p>';
                notSupportedMsg.style.display = 'block';
            }
        }, 3000);
    </script>
</body>
</html>